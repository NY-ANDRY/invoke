import{h as y,f as C,d as F,r as c,c as e,j as t,L as S,F as u,i as j}from"./index-BjgbuZL3.js";import{N as A}from"./NotFound-C0yXaNv3.js";const k=()=>{const{id:s}=y(),{getDataOf:o,removeDataOf:x}=C(),{user:a,logout:N}=F(),[l,p]=c.useState(null),[v,i]=c.useState(!0),[g,r]=c.useState(!1),[d,f]=c.useState("");c.useEffect(()=>{(async()=>{if(!s)return i(!1);try{const n=await o(s);p(n),n||r(!0)}catch(n){console.error("Error fetching data:",n),r(!0)}finally{i(!1)}})()},[s,o]),c.useEffect(()=>{l&&f(l.name)},[l]);const m=(l==null?void 0:l.img)||(s===(a==null?void 0:a.uid)?a==null?void 0:a.photoURL:null),b=()=>{a&&x(a.uid)},w=h=>{f(h.target.value)},D=()=>{j(a,d)};return e("section",{className:"flex flex-col w-full min-h-[96vh] items-center p-20",children:t("div",{className:"flex flex-col gap-8",children:[v&&e(S,{}),g&&e(A,{}),l&&t("div",{className:"profile relative flex flex-col md:flex-row lg:flex-row h-full justify-between gap-16 color-primary",children:[m&&e("div",{className:"flex-center",children:e("img",{src:m,className:"w-32 h-32 rounded-md",alt:"Profile"})}),t("div",{className:"flex flex-col gap-6 p-2",children:[e("div",{className:"w-full font-[is-sb] text-xl",children:s==(a==null?void 0:a.uid)?e(u,{children:e("input",{type:"text",value:d,onChange:w,onBlur:D})}):l.name||""}),t("div",{className:"w-full flex flex-col font-[is-m] text-sm",children:[t("div",{className:"flex",children:[e("div",{className:"flex w-36",children:"Best score: "}),e("div",{className:"flex-center",children:l.score||"N/A"})]}),t("div",{className:"flex",children:[e("div",{className:"flex w-36",children:"Best combo: "}),e("div",{className:"flex-center",children:l.bestCombo||"N/A"})]}),t("div",{className:"flex",children:[e("div",{className:"flex w-36",children:"Combo: "}),e("div",{className:"flex-center",children:l.combo||"N/A"})]})]})]})]}),(a==null?void 0:a.uid)==s&&e(u,{children:t("div",{className:"flex gap-8 font-[is-m] text-sm whitespace-nowrap",children:[e("button",{onClick:N,className:"bg-black pt-1.5 pb-1.5 pl-5 pr-5 rounded-sm",children:"Disconnect"}),e("button",{onClick:b,className:"bg-red pt-1.5 pb-1.5 pl-5 pr-5 rounded-sm",children:"Delete your data"})]})})]})})};export{k as default};
