import{r as n,g as N,c as t,j as p,f as O}from"./index-BjgbuZL3.js";const V=({animate:s=!1})=>{const e=n.useRef(null),c=["#6A6A6C","#fefefe"];return n.useLayoutEffect(()=>{s&&e.current?N.to(e.current,{rotation:-360,repeat:-1,duration:1,ease:"linear"}):(N.killTweensOf(e.current),N.set(e.current,{rotation:0}))},[s]),t("svg",{ref:e,className:"cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:s?c[1]:c[0],children:t("path",{d:"M160-160v-80h110l-16-14q-52-46-73-105t-21-119q0-111 66.5-197.5T400-790v84q-72 26-116 88.5T240-478q0 45 17 87.5t53 78.5l10 10v-98h80v240H160Zm400-10v-84q72-26 116-88.5T720-482q0-45-17-87.5T650-648l-10-10v98h-80v-240h240v80H690l16 14q49 49 71.5 106.5T800-482q0 111-66.5 197.5T560-170Z"})})},W=({animate:s=!1})=>{const e=n.useRef(null);return n.useLayoutEffect(()=>{},[s]),p("svg",{ref:e,className:"cursor-pointer",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t("path",{d:"M16.738 8.48485C16.738 12.8874 13.1104 16.4697 8.61898 16.4697C4.12757 16.4697 0.5 12.8874 0.5 8.48485C0.5 4.0823 4.12757 0.5 8.61898 0.5C13.1104 0.5 16.738 4.0823 16.738 8.48485Z",stroke:"#6A6A6C"}),t("line",{y1:"-0.5",x2:"7.77511",y2:"-0.5",transform:"matrix(0.71263 0.70154 -0.71263 0.70154 14.1597 14.5454)",stroke:"#6A6A6C"})]})},I=({selected:s})=>{const e=["#6A6A6C","#fefefe"];return p("svg",{className:"cursor-pointer",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t("path",{className:"transition-all",d:"M3.21213 0.787868C3.09497 0.670711 2.90503 0.670711 2.78787 0.787868L0.87868 2.69706C0.761522 2.81421 0.761522 3.00416 0.87868 3.12132C0.995837 3.23848 1.18579 3.23848 1.30294 3.12132L3 1.42426L4.69706 3.12132C4.81421 3.23848 5.00416 3.23848 5.12132 3.12132C5.23848 3.00416 5.23848 2.81421 5.12132 2.69706L3.21213 0.787868ZM3.3 11V1H2.7V11H3.3Z",fill:s?e[1]:e[0]}),t("path",{className:"transition-all",d:"M8.78787 11.2121C8.90503 11.3293 9.09497 11.3293 9.21213 11.2121L11.1213 9.30294C11.2385 9.18579 11.2385 8.99584 11.1213 8.87868C11.0042 8.76152 10.8142 8.76152 10.6971 8.87868L9 10.5757L7.30294 8.87868C7.18579 8.76152 6.99584 8.76152 6.87868 8.87868C6.76152 8.99584 6.76152 9.18579 6.87868 9.30294L8.78787 11.2121ZM9.3 11V1H8.7V11H9.3Z",fill:s?e[1]:e[0]})]})},E=({name:s,onClick:e})=>{const c=["#6A6A6C","#dddddd"],m=n.useRef(null),[d,i]=n.useState(!1),[o,g]=n.useState(!1);return n.useLayoutEffect(()=>{if(!m.current)return;const l=N.context(()=>{d?(N.to(m.current,{rotation:-180,duration:.6,ease:"power4.out"}),g(!0)):o&&(N.killTweensOf(m.current),N.to(m.current,{rotation:180}),g(!1))});return()=>l.revert()},[d]),p("button",{onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},onClick:e,className:"flex items-center gap-1 lg:gap-2 cursor-pointer",children:[t("span",{className:"transition-all",style:{color:d?c[1]:c[0]},children:s}),t("div",{ref:m,className:"filtre-icon",children:t(I,{selected:d})})]})};function H(s,e,c,m){var d=this,i=n.useRef(null),o=n.useRef(0),g=n.useRef(0),l=n.useRef(null),v=n.useRef([]),f=n.useRef(),x=n.useRef(),A=n.useRef(s),h=n.useRef(!0);A.current=s;var y=typeof window<"u",b=!e&&e!==0&&y;if(typeof s!="function")throw new TypeError("Expected a function");e=+e||0;var R=!!(c=c||{}).leading,r=!("trailing"in c)||!!c.trailing,C="maxWait"in c,w="debounceOnServer"in c&&!!c.debounceOnServer,L=C?Math.max(+c.maxWait||0,e):null;n.useEffect(function(){return h.current=!0,function(){h.current=!1}},[]);var D=n.useMemo(function(){var M=function(a){var u=v.current,q=f.current;return v.current=f.current=null,o.current=a,g.current=g.current||a,x.current=A.current.apply(q,u)},S=function(a,u){b&&cancelAnimationFrame(l.current),l.current=b?requestAnimationFrame(a):setTimeout(a,u)},F=function(a){if(!h.current)return!1;var u=a-i.current;return!i.current||u>=e||u<0||C&&a-o.current>=L},Z=function(a){return l.current=null,r&&v.current?M(a):(v.current=f.current=null,x.current)},k=function a(){var u=Date.now();if(R&&g.current===o.current&&j(),F(u))return Z(u);if(h.current){var q=e-(u-i.current),B=C?Math.min(q,L-(u-o.current)):q;S(a,B)}},j=function(){},T=function(){if(y||w){var a=Date.now(),u=F(a);if(v.current=[].slice.call(arguments),f.current=d,i.current=a,u){if(!l.current&&h.current)return o.current=i.current,S(k,e),R?M(i.current):x.current;if(C)return S(k,e),M(i.current)}return l.current||S(k,e),x.current}};return T.cancel=function(){l.current&&(b?cancelAnimationFrame(l.current):clearTimeout(l.current)),o.current=0,v.current=i.current=f.current=l.current=null},T.isPending=function(){return!!l.current},T.flush=function(){return l.current?Z(Date.now()):x.current},T},[R,C,e,L,r,b,y,w,m]);return D}const z=()=>{const{statistics:s,loading:e,error:c,updateStat:m,nbStat:d,setNbStat:i,setName:o,filtre:g,setFiltre:l,inversestatistics:v}=O(),f=["#C3C4D6","#3d64ff","#ef3dff","#ff3d3d"],x=H(r=>{r!=null&&r!=null&&o(r)},400),A=H(r=>{i(r)},400),h=r=>{g==r?v():l(r)},y=()=>{h("score")},b=()=>{h("name")},R=()=>{h("combo")};return t("section",{id:"stat",className:"flex flex-col w-full items-center p-2 pt-20 lg:p-20",children:p("div",{className:"w-full sm:w-[720px] lg:w-[1100px]",children:[p("div",{className:"stat-head flex items-center justify-between p-4",children:[p("div",{className:"flex items-center gap-4",children:[t("div",{className:"",children:t(W,{animate:!!e})}),t("input",{onChange:r=>x(r.target.value),type:"text",className:"w-40 lg:w-96",placeholder:"Name"})]}),p("div",{className:"flex items-center gap-3",children:[t("div",{onClick:m,className:"",children:t(V,{animate:!!e})}),t("input",{onChange:r=>A(r.target.value),type:"number",className:"w-16",placeholder:d==""?"count":d})]})]}),p("div",{className:"statistique-filtre flex gap-4 items-center font-[is-sb] text-xs lg:text-[15px] whitespace-nowrap p-4 mt-2",children:[t("div",{className:"flex items-center w-20 lg:w-32 gap-1 lg:gap-2",children:t(E,{name:"best score",onClick:y})}),t("div",{className:"flex flex-1 items-center gap-2",children:t(E,{name:"name",onClick:b})}),t("div",{className:"flex items-center  w-20 lg:w-32 gap-2",children:t(E,{name:"combo",onClick:R})})]}),t("div",{className:"flex flex-col",children:s.map((r,C)=>{let w;return r.score<100?w=f[0]:r.score<400?w=f[1]:r.score<900?w=f[2]:w=f[3],p("div",{style:{color:w},className:"statistique-filtre flex gap-4 items-center font-[is-sb] text-[13.5px] lg:text-[15px] whitespace-nowrap pl-4 pr-4 mt-3",children:[t("div",{className:"flex items-center w-20 lg:w-32 gap-2",children:r.score}),t("div",{className:"flex flex-1 items-center gap-2 whitespace-nowrap overflow-hidden",children:r.name}),t("div",{className:"flex items-center  w-20 lg:w-32 gap-2",children:r.combo})]},C)})}),c&&t("div",{children:"error"})]})})};export{z as default};
